### 1. Как сделать интеграцию бота с telegram
1. Зарегистрировать бота через BotFather в telegram
2. Получить токен бота
3. Зайти в кабинет администратора
4. Раздел "Помощь" -> пункт API
5. Скопировать авторизационный JWT токен
6. Перейти на страницу [https://chat-api.twin24.ai/docs/index.html](https://chat-api.twin24.ai/docs/index.html).
7. Нажать Authorize
8. В появившемся окне вставить токен из шага 5
9. Убедиться, что авторизация прошла успешно
10. Закрыть кнопкой close
11. В разделе Messenger Integrations открыть форму Telegram integration
12. Нажать кнопку Try it out
13. В боковом меню на странице личного кабинета администратора открыть раздел Чаты и выбрать пункт Настройки
14. Нажать кнопку копирования рядом с названием чата, к которому требуется привязать бота
15. В поле chatID укажите идентификатор чата, который вы получили на предыдущем шаге.
16. В поле Request body указать авторизационный токен из шага 2
17. Нажмите кнопку Execute
18. Если метод возвращает ошибку, выберать другую версию [Chat API](https://chat-api.twin24.ai/docs/index.html) и повторите шаги 7 -12
19. Начать диалог с ботом в телеграме

### 2. Какие системные переменные есть в боте и какие есть особенности при работе с ними
1. {системные.сейчас}
	- Переменная {системные.сейчас} возвращает текущие дату и время по UTC (например, 2019-11-22 04:06:58). Текущие дата и время определяются во время диалога с клиентом.
2. {компания.сейчас}
	- Переменная {компания.сейчас} возвращает текущие дату и время с учетом [часового пояса](https://confluence.twin24.ai/pages/viewpage.action?pageId=63406335), в котором расположена компания (например, 2019-11-22 04:06:58). Текущие дата и время определяются во время диалога с клиентом.
3. {системные.сегодня}
	- Переменная {системные.сегодня} возвращает текущую дату без указания времени (например, 2019-11-22). Текущая дата определяется во время диалога с клиентом.
4. {компания.сегодня}
	- Переменная {компания.сегодня} возвращает текущую дату без указания времени (например, 2019-11-22). При этом учитывается [часовой пояс](https://confluence.twin24.ai/pages/viewpage.action?pageId=63406335), в котором расположена компания. Текущая дата определяется во время диалога с клиентом.
5. {системные.время}
	- Переменная {системные.время} возвращает текущее время без указания даты (например, 04:06:58). Текущее время определяется во время диалога с клиентом.
6. {компания.время}
	- Переменная {компания.время} возвращает текущее время без указания даты (например, 04:06:58). При этом учитывается [часовой пояс](https://confluence.twin24.ai/pages/viewpage.action?pageId=63406335), в котором расположена компания. Текущее время определяется во время диалога с клиентом.
7. {системные.месяц}
	- Переменная {системные.месяц} возвращает первое число текущего месяца в формате ГГГГ-ММ-ДД (например, 2022-09-01). Текущий месяц определяется во время диалога с клиентом.
8. {системные.телефон}
	- Переменная {системные.телефон} возвращает номер телефона клиента, который указан в задании на обзвон для выполнения вызова.
9. {системные.предыдущий}
	- Переменная {системные.предыдущий} возвращает ID сценария, из которого система перенаправила бота в другой сценарий во время диалога с пользователем (также см. [Как перевести диалог бота с клиентом в другой сценарий](https://confluence.twin24.ai/pages/viewpage.action?pageId=117309544)).
10. {системные.дозвон}
	- Переменная {системные.дозвон} возвращает количество успешных дозвонов до кандидата в рамках задания на обзвон.
11. {системные.запись}
	- Переменная {системные.запись} возвращает ссылку на аудиозапись текущего диалога в телефонии. Переменная используется только в исходящих вызовах.
12. {recordPath}
	- Переменная {recordPath} содержит ссылку на скачивание аудиозаписи текущего диалога. Используется в телефонии CIS.

Особенности можно уточнить здесь: https://confluence.twin24.ai/pages/viewpage.action?pageId=12386305#id-Системныепеременные-geninfo2

### 3. Как скопировать сценарий в подчиненную компанию
1. Находясь в компании реселлере откройте раздел **Сценарии** – **Сценарии** и выберите подчиненную компанию из выпадающего списка, из которой вы хотите скопировать сценарий.
2. Откроется список сценариев этой подчиненной компании. Нажмите кнопку **Снапшот** в строке интересующего сценария.
3. Введите название для снапшота, которое будет отображаться в другой подчиненной компании, и нажмите кнопку **Сохранить**.
4. Нажмите кнопку "История" в строке нужного сценария.
5. Откроется окно. Введите в него идентификатор подчиненной компании, в которую вы хотите скопировать сценарий, и нажмите кнопку В другую компанию.
6. Чтобы убедиться, что все сработало, выберите подчиненную компанию в выпадающем списке сверху. В списке ее сценариев новый скопированный сценарий с заданным ранее названием.
7. После копирования нужно обязательно открыть сценарий через редактор сценариев и сохранить его.